<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Weather Forcast</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="" />
  </head>
  <body>
    <!-- div navbar? for top bar "Weather Dashboard" (h1) -->
    <nav style="text-align: center; background-color: rgb(49, 58, 58)">
      <h1 style="color: white">Weather Dashboard</h1>
    </nav>

    <!-- aside tag for left side bar card class? col-3
    form to search for a city: (h4, h5?) with search button 
    local storage to show searched places (p) (getitem())
    -->
    <div class="row">
      <aside class="col-3" id="left-side">
        <h6>Search for a City:</h6>
        <input id="search-input" />
        <button class="btn btn-primary" id="search-button">Search</button>
        <div id="city-list"></div>
      </aside>

      <!-- container for right side of page (main tag)
    row, col-9
    row, col -> city and date (h2,h3?), brk, temperature brk, humidity, brk,
    wind speed: brk, uv index 
    row, col -> 5 day forecast (h3, h4?) brk,
    row, col-5 -> date brk, weather icon, brk, temp: ##.## F, brk,
    humidity: ##% -->
      <div class="col-9">
        <div class="row">
          <div class="col" id="day-weather"></div>
        </div>
        <div class="row">
          <div class="col" id="five-day-forcast">
            <h4>5-Day Forcast:</h4>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        console.log("Im ready!!");

        var city = "";
        var apiKey = "0ba2cfb5eb3e8515ca5fd458c3bdd160";
        
        function renderNow() {

          // queryURL gets updated with enetered city name
          var queryURL =
          "http://api.openweathermap.org/data/2.5/weather?q=" +
          city +
          "&units=imperial&appid=" +
          apiKey;

          $.ajax({
            url: queryURL,
            method: "GET",
          }).then(function (response) {
            console.log(response);

            var citySelected = $("#day-weather");

            // Adding statistics to the city selected
            // 1. Create an Element
            var newEl = $("<h2>");

            // 2. Create content
            newEl.text(response.name + " (" + response.timezone + ")");

            // 3. Append to existing to a parent element
            citySelected.append(newEl);

            // Add a break on the page
            citySelected.append($("<br>"));

            // 1. Create an Element
            var newTemp = $("<p>");

            // 2. Create content
            newTemp.text("Temperature: " + response.main.temp);

            // 3. Append to existing to a parent element
            citySelected.append(newTemp);
          });
        }

        $("#search-button").on("click", function () {
          var inputSearch = $("#search-input").val();
          city = inputSearch;
          console.log("you clicked the button!: " + city);
          renderNow();
        });
      });
    </script>
  </body>
</html>
